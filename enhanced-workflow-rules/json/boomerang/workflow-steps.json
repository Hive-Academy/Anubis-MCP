{
  "workflowSteps": [
    {
      "name": "git_setup_and_memory_analysis",
      "description": "Set up git branch and extract project context",
      "sequenceNumber": 1,
      "isRequired": true,
      "stepType": "ACTION",
      "approach": "Quick git setup and memory bank extraction - NO TASK CREATION",
      "approachGuidance": {
        "stepByStep": [
          "‚ö†Ô∏è CRITICAL: DO NOT CREATE ANY TASKS IN THIS STEP",
          "Check git status: 'git status --porcelain'",
          "ASK USER: 'Continue on current branch or create new branch? If new, what name?'",
          "Execute user's branch decision",
          "Commit any pending changes with 'git add . && git commit -m \"Initial commit for task\"'",
          "IF memory-bank folder exists: Read ProjectOverview.md, TechnicalArchitecture.md, DeveloperGuide.md",
          "Document key context points (3-5 bullet points maximum)",
          "COMPLETE STEP - NO FURTHER ANALYSIS NEEDED"
        ]
      },
      "qualityChecklist": [
        "Git status checked and branch decision implemented",
        "Memory bank context extracted and documented",
        "NO TASK CREATED (reserved for Step 2 only)",
        "Step completed without deviation into analysis loops"
      ]
    },
    {
      "name": "codebase_analysis",
      "description": "perform a high-level codebase analysis.",
      "sequenceNumber": 2,
      "isRequired": true,
      "stepType": "ACTION",
      "approach": "Perform a high-level codebase analysis based on the already-validated task context.",
      "approachGuidance": {
        "stepByStep": [
          "üö® QUICK CODEBASE ANALYSIS ",
          "- Use semantic_search for architecture patterns",
          "- Identify main technology stack",
          "- Note integration points and constraints",
          "- Document in 5-10 bullet points maximum"
        ]
      },
      "qualityChecklist": [
        "Quick codebase analysis completed",
        "Step completed without creating a task"
      ]
    },
    {
      "name": "task_creation_with_gathered_context",
      "description": "‚ö†Ô∏è MANDATORY: Create a new task using the validated requirements and analysis findings.",
      "sequenceNumber": 3,
      "isRequired": true,
      "stepType": "ACTION",
      "approach": "Use the context from the previous step to create a well-defined task linked to the current workflow execution.",
      "approachGuidance": {
        "stepByStep": [
          "üö® MANDATORY TASK CREATION",
          "- MUST use TaskOperations.create operation",
          "- MUST include executionId parameter: '{{ executionIdValue }}'",
          "- Include codebaseAnalysis object with findings from the previous step",
          "- Include description object with user requirements from the previous step",
          "- Execute MCP call with serviceName: 'TaskOperations', operation: 'create'",
          "- Ensure required parameters include executionId, taskData, codebaseAnalysis, and description",
          "- Verify task creation succeeded with executionId linkage",
          "COMPLETE STEP - NO FURTHER ANALYSIS"
        ]
      },
      "qualityChecklist": [
        "Context from previous step (validation and analysis) is used.",
        "üö® TASK CREATED with TaskOperations.create operation",
        "üö® EXECUTION ID LINKAGE VERIFIED (executionId: '{{ executionIdValue }}')",
        "Task creation success confirmed"
      ],
      "conditions": [
        {
          "name": "validation_and_analysis_completed",
          "conditionType": "PREVIOUS_STEP_COMPLETED",
          "logic": {
            "check": "step_completed",
            "parameters": {
              "stepName": "user_validation_and_codebase_analysis"
            }
          },
          "isRequired": true
        }
      ]
    },
    {
      "name": "research_evaluation_and_persistence",
      "description": "Evaluate if research needed and persist findings",
      "sequenceNumber": 4,
      "isRequired": true,
      "stepType": "ACTION",
      "approach": "Quick research assessment and database persistence",
      "approachGuidance": {
        "stepByStep": [
          "Review task requirements for critical unknowns",
          "IF critical research gaps exist: Conduct focused research (30 min max)",
          "IF no critical gaps: Document 'No critical research required'",
          "  - Use web_search if available to find authoritative documentation",
          "  - Check official GitHub repositories and documentation",
          "  - Analyze NPM or relevant package registries",
          "  - Look for recent blog posts and technical articles",
          "  - Review community discussions and best practices",
          "  - Validate findings through multiple sources",
          "  - Document evidence with links and citations",
          "  - Organize findings by research question priority",
          "  - Provide clear recommendations for implementation",
          "  - Include risk assessment and mitigation strategies",
          "  - Synthesize information into clear, actionable insights",
          "Document all findings in structured format for task creation",
          "Use ResearchOperations.create_research to persist findings",
          "Execute MCP call with serviceName: 'ResearchOperations', operation: 'create_research'",
          "Ensure taskId parameter links to task created in Step 3",
          "COMPLETE STEP - Move to transition"
        ]
      },
      "qualityChecklist": [
        "Research requirements evaluated",
        "Findings persisted via ResearchOperations.create_research",
        "No analysis loops or excessive investigation"
      ]
    },
    {
      "name": "strategic_decision_and_architect_transition",
      "description": "Transition to architect role",
      "sequenceNumber": 5,
      "isRequired": true,
      "stepType": "TRANSITION",
      "approach": "Execute role transition with context handoff",
      "approachGuidance": {
        "stepByStep": [
          "Prepare context summary (5 bullet points max)",
          "Execute transition to architect role",
          "Verify transition succeeded"
        ]
      },
      "qualityChecklist": [
        "Context summarized efficiently",
        "Role transition executed successfully"
      ]
    }
  ]
}
