{{#> base-layout title="Simple Report" reportType="Simple Report"}}

<!-- Simple Report Content -->
<div class="space-y-8">
    
    <!-- Report Overview Card -->
    <div class="card animate-on-scroll">
        <div class="card-header">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                        <i class="fas fa-file-alt text-primary-600 mr-3"></i>
                        Simple Workflow Report
                    </h2>
                    <p class="text-gray-600 mt-1">Quick overview of workflow status • {{dateRange}}</p>
                </div>
                <div class="flex items-center space-x-3">
                    <span class="text-sm text-gray-500">{{totalTasks}} tasks</span>
                    <div class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                        <span class="text-sm text-gray-600">{{completionRate}}% complete</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card-body">
            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl">
                    <div class="w-12 h-12 mx-auto bg-blue-500 rounded-full flex items-center justify-center mb-3">
                        <i class="fas fa-tasks text-white"></i>
                    </div>
                    <div class="text-2xl font-bold text-blue-600">{{totalTasks}}</div>
                    <div class="text-sm text-blue-700">Total Tasks</div>
                </div>
                
                <div class="text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl">
                    <div class="w-12 h-12 mx-auto bg-green-500 rounded-full flex items-center justify-center mb-3">
                        <i class="fas fa-check-circle text-white"></i>
                    </div>
                    <div class="text-2xl font-bold text-green-600">{{completedTasks}}</div>
                    <div class="text-sm text-green-700">Completed</div>
                </div>
                
                <div class="text-center p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl">
                    <div class="w-12 h-12 mx-auto bg-yellow-500 rounded-full flex items-center justify-center mb-3">
                        <i class="fas fa-clock text-white"></i>
                    </div>
                    <div class="text-2xl font-bold text-yellow-600">{{inProgressTasks}}</div>
                    <div class="text-sm text-yellow-700">In Progress</div>
                </div>
                
                <div class="text-center p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl">
                    <div class="w-12 h-12 mx-auto bg-red-500 rounded-full flex items-center justify-center mb-3">
                        <i class="fas fa-exclamation-triangle text-white"></i>
                    </div>
                    <div class="text-2xl font-bold text-red-600">{{blockedTasks}}</div>
                    <div class="text-sm text-red-700">Blocked</div>
                </div>
            </div>
            
            <!-- Status Summary -->
            <div class="bg-gray-50 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                    <i class="fas fa-chart-bar text-blue-600 mr-2"></i>
                    Status Summary
                </h3>
                <div class="space-y-3">
                    {{#each statusSummary}}
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm">
                            <div class="flex items-center space-x-3">
                                <div class="w-4 h-4 rounded-full bg-{{color}}-500"></div>
                                <span class="font-medium text-gray-900">{{status}}</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="text-sm text-gray-600">{{count}} tasks</span>
                                <span class="text-sm font-bold text-{{color}}-600">{{percentage}}%</span>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
    
    <!-- Recent Activity -->
    {{#if recentTasks}}
        <div class="card animate-on-scroll">
            <div class="card-header">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                    <i class="fas fa-history text-green-600 mr-2"></i>
                    Recent Activity
                </h3>
                <p class="text-sm text-gray-600 mt-1">Latest task updates and completions</p>
            </div>
            <div class="card-body">
                <div class="space-y-4">
                    {{#each recentTasks}}
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <div class="flex items-center space-x-4">
                                <div class="w-10 h-10 bg-{{statusColor}}-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-{{statusIcon}} text-{{statusColor}}-600"></i>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">{{name}}</div>
                                    <div class="text-sm text-gray-600">{{taskId}} • {{owner}}</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="status-badge status-{{status}}">{{status}}</div>
                                <div class="text-xs text-gray-500 mt-1">{{formatDate updatedAt}}</div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>
    {{/if}}
    
    <!-- Priority Breakdown -->
    {{#if priorityBreakdown}}
        <div class="card animate-on-scroll">
            <div class="card-header">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                    <i class="fas fa-flag text-red-600 mr-2"></i>
                    Priority Breakdown
                </h3>
                <p class="text-sm text-gray-600 mt-1">Task distribution by priority level</p>
            </div>
            <div class="card-body">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    {{#each priorityBreakdown}}
                        <div class="p-4 bg-{{color}}-50 border border-{{color}}-200 rounded-lg">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-{{color}}-500 rounded-full flex items-center justify-center">
                                        <i class="fas fa-{{icon}} text-white text-xs"></i>
                                    </div>
                                    <span class="font-medium text-{{color}}-900">{{priority}}</span>
                                </div>
                                <span class="text-lg font-bold text-{{color}}-600">{{count}}</span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-{{color}}-700">Completed:</span>
                                    <span class="font-medium text-{{color}}-800">{{completed}}</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-{{color}}-700">In Progress:</span>
                                    <span class="font-medium text-{{color}}-800">{{inProgress}}</span>
                                </div>
                                <div class="w-full bg-{{color}}-200 rounded-full h-2 mt-2">
                                    <div class="bg-{{color}}-500 h-2 rounded-full transition-all duration-1000" style="width: {{completionPercentage}}%"></div>
                                </div>
                                <div class="text-xs text-{{color}}-600 text-center">{{completionPercentage}}% complete</div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>
    {{/if}}
    
    <!-- Role Summary -->
    {{#if roleSummary}}
        <div class="card animate-on-scroll">
            <div class="card-header">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                    <i class="fas fa-users text-purple-600 mr-2"></i>
                    Role Summary
                </h3>
                <p class="text-sm text-gray-600 mt-1">Current task assignments by role</p>
            </div>
            <div class="card-body">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {{#each roleSummary}}
                        <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-{{color}}-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-{{icon}} text-{{color}}-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-gray-900">{{role}}</h4>
                                        <p class="text-sm text-gray-600">{{activeTasks}} active</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-lg font-bold text-{{color}}-600">{{totalTasks}}</div>
                                    <div class="text-xs text-gray-500">total tasks</div>
                                </div>
                            </div>
                            
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Completed:</span>
                                    <span class="font-medium text-green-600">{{completedTasks}}</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">In Progress:</span>
                                    <span class="font-medium text-blue-600">{{inProgressTasks}}</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Success Rate:</span>
                                    <span class="font-medium text-{{color}}-600">{{successRate}}%</span>
                                </div>
                            </div>
                            
                            <div class="mt-3 pt-3 border-t border-gray-200">
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-{{color}}-500 h-2 rounded-full transition-all duration-1000" style="width: {{efficiency}}%"></div>
                                </div>
                                <div class="text-xs text-gray-600 text-center mt-1">{{efficiency}}% efficiency</div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>
    {{/if}}
    
    <!-- Quick Actions -->
    <div class="card animate-on-scroll">
        <div class="card-header">
            <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                <i class="fas fa-bolt text-yellow-600 mr-2"></i>
                Quick Actions
            </h3>
            <p class="text-sm text-gray-600 mt-1">Common MCP commands for workflow management</p>
        </div>
        <div class="card-body">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <button onclick="copySimpleMcpCommand('create-task')" class="btn-secondary text-left p-4 h-auto">
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-plus text-blue-600"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900">Create Task</div>
                            <div class="text-sm text-gray-500">Start new workflow task</div>
                        </div>
                    </div>
                </button>
                
                <button onclick="copySimpleMcpCommand('list-tasks')" class="btn-secondary text-left p-4 h-auto">
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-list text-green-600"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900">List Tasks</div>
                            <div class="text-sm text-gray-500">View all tasks</div>
                        </div>
                    </div>
                </button>
                
                <button onclick="copySimpleMcpCommand('detailed-report')" class="btn-secondary text-left p-4 h-auto">
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-line text-purple-600"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900">Detailed Report</div>
                            <div class="text-sm text-gray-500">Generate full analytics</div>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>
    
</div>

<!-- Simple Report JavaScript -->
<script>
    // Simple report MCP commands
    const simpleMcpCommands = {
        'create-task': `task_operations({
  operation: "create",
  taskData: {
    name: "New Task Name",
    priority: "Medium",
    status: "not-started"
  },
  description: {
    description: "Task description",
    businessRequirements: "Business requirements",
    technicalRequirements: "Technical requirements",
    acceptanceCriteria: ["Criteria 1", "Criteria 2"]
  }
})`,
        'list-tasks': `task_operations({
  operation: "list",
  includeDescription: true
})`,
        'detailed-report': `generate_workflow_report({
  reportType: "interactive-dashboard",
  outputFormat: "html"
})`
    };
    
    window.copySimpleMcpCommand = function(commandType) {
        const command = simpleMcpCommands[commandType];
        if (command) {
            navigator.clipboard.writeText(command).then(() => {
                showToast(`${commandType.replace('-', ' ')} command copied!`, 'success');
            }).catch(() => {
                showToast('Failed to copy command', 'error');
            });
        }
    };
    
    // Initialize animations
    document.addEventListener('DOMContentLoaded', function() {
        // Trigger animations for cards
        const cards = document.querySelectorAll('.animate-on-scroll');
        cards.forEach((card, index) => {
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });
</script>

{{/base-layout}} 