<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>{{title}} - Workflow Report</title>

    <!-- Tailwind CSS CDN -->
    <script src='https://cdn.tailwindcss.com'></script>

    <!-- Chart.js CDN -->
    <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>

    <!-- Custom Tailwind Configuration -->
    <script>
      tailwind.config = { theme: { extend: { colors: { primary: { 50: '#eff6ff',
      100: '#dbeafe', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 900:
      '#1e3a8a' }, success: { 50: '#f0fdf4', 100: '#dcfce7', 500: '#22c55e',
      600: '#16a34a', 700: '#15803d' }, warning: { 50: '#fffbeb', 100:
      '#fef3c7', 500: '#f59e0b', 600: '#d97706', 700: '#b45309' }, danger: { 50:
      '#fef2f2', 100: '#fee2e2', 500: '#ef4444', 600: '#dc2626', 700: '#b91c1c'
      } }, fontFamily: { 'sans': ['Inter', 'system-ui', 'sans-serif'] } } } }
    </script>

    <!-- Google Fonts -->
    <link
      href='https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap'
      rel='stylesheet'
    />

    <!-- Custom Styles -->
    <style>
      .chart-container {
        position: relative;
        height: 400px;
        margin: 1rem 0;
      }

      .metric-card {
        @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200;
      }

      .status-badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border;
      }

      .priority-badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
      }

      .insight-card {
        @apply bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4 mb-4;
      }

      .recommendation-card {
        @apply bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-4;
      }

      .print-hidden {
        @media print {
          display: none !important;
        }
      }

      @media print {
        body {
          @apply text-sm;
        }
        .chart-container {
          height: 300px;
        }
      }
    </style>
  </head>
  <body class='bg-gray-50 font-sans'>
    <!-- Header -->
    <header class='bg-white shadow-sm border-b border-gray-200 print-hidden'>
      <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
        <div class='flex justify-between items-center py-4'>
          <div class='flex items-center'>
            <h1 class='text-2xl font-bold text-gray-900'>{{title}}</h1>
            {{#if reportType}}
              <span
                class='ml-3 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800'
              >
                {{capitalize reportType}}
              </span>
            {{/if}}
          </div>
          <div class='flex items-center space-x-4'>
            {{#if generatedAt}}
              <span class='text-sm text-gray-500'>
                Generated:
                {{formatDateTime generatedAt}}
              </span>
            {{/if}}
            <button
              onclick='window.print()'
              class='inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500'
            >
              <svg
                class='w-4 h-4 mr-2'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z'
                ></path>
              </svg>
              Print Report
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8'>
      <!-- Executive Summary Section -->
      {{#if executiveSummary}}
        <section class='mb-8'>
          <div class='bg-white rounded-lg shadow-sm border border-gray-200 p-6'>
            <h2
              class='text-xl font-semibold text-gray-900 mb-4 flex items-center'
            >
              <svg
                class='w-5 h-5 mr-2 text-primary-600'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'
                ></path>
              </svg>
              Executive Summary
            </h2>
            <div class='prose prose-gray max-w-none'>
              {{{executiveSummary}}}
            </div>
          </div>
        </section>
      {{/if}}

      <!-- Key Insights Section -->
      {{#if keyInsights}}
        <section class='mb-8'>
          <h2
            class='text-xl font-semibold text-gray-900 mb-4 flex items-center'
          >
            <svg
              class='w-5 h-5 mr-2 text-primary-600'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M13 10V3L4 14h7v7l9-11h-7z'
              ></path>
            </svg>
            Key Insights
          </h2>
          <div class='grid grid-cols-1 md:grid-cols-2 gap-4'>
            {{#each keyInsights}}
              <div class='insight-card'>
                <h3 class='font-medium text-blue-900 mb-2'>{{this.title}}</h3>
                <p class='text-blue-800 text-sm'>{{this.description}}</p>
                {{#if this.metric}}
                  <div
                    class='mt-2 text-2xl font-bold text-blue-900'
                  >{{this.metric}}</div>
                {{/if}}
              </div>
            {{/each}}
          </div>
        </section>
      {{/if}}

      <!-- Report Content Block -->
      {{{body}}}

      <!-- Actionable Recommendations Section -->
      {{#if actionableRecommendations}}
        <section class='mb-8'>
          <h2
            class='text-xl font-semibold text-gray-900 mb-4 flex items-center'
          >
            <svg
              class='w-5 h-5 mr-2 text-green-600'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'
              ></path>
            </svg>
            Actionable Recommendations
          </h2>
          <div class='space-y-4'>
            {{#each actionableRecommendations}}
              <div class='recommendation-card'>
                <div class='flex items-start'>
                  <div class='flex-shrink-0'>
                    <span
                      class='inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-500 text-white text-sm font-medium'
                    >
                      {{@index}}
                    </span>
                  </div>
                  <div class='ml-3'>
                    <h3 class='font-medium text-green-900'>{{this.title}}</h3>
                    <p
                      class='text-green-800 text-sm mt-1'
                    >{{this.description}}</p>
                    {{#if this.priority}}
                      <span
                        class='mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                          {{priorityBadge this.priority}}'
                      >
                        {{this.priority}}
                        Priority
                      </span>
                    {{/if}}
                  </div>
                </div>
              </div>
            {{/each}}
          </div>
        </section>
      {{/if}}
    </main>

    <!-- Footer -->
    <footer class='bg-white border-t border-gray-200 mt-12 print-hidden'>
      <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6'>
        <div class='flex justify-between items-center'>
          <div class='text-sm text-gray-500'>
            Generated by Workflow Manager MCP Server
            {{#if version}}
              <span class='ml-2'>v{{version}}</span>
            {{/if}}
          </div>
          <div class='text-sm text-gray-500'>
            {{formatDateTime generatedAt}}
          </div>
        </div>
      </div>
    </footer>

    <!-- Chart.js Initialization Script -->
    <script>
      // Global Chart.js configuration Chart.defaults.font.family = 'Inter,
      system-ui, sans-serif'; Chart.defaults.color = '#374151';
      Chart.defaults.borderColor = '#e5e7eb'; Chart.defaults.backgroundColor =
      'rgba(59, 130, 246, 0.1)'; // Initialize charts after DOM is loaded
      document.addEventListener('DOMContentLoaded', function() { //
      Auto-initialize charts with data-chart attribute const chartElements =
      document.querySelectorAll('[data-chart]'); chartElements.forEach(element
      => { try { const chartConfig =
      JSON.parse(element.getAttribute('data-chart')); new Chart(element,
      chartConfig); } catch (error) { console.error('Failed to initialize
      chart:', error); } }); }); // Utility function for creating responsive
      charts function createResponsiveChart(ctx, config) { config.options =
      config.options || {}; config.options.responsive = true;
      config.options.maintainAspectRatio = false; return new Chart(ctx, config);
      }
    </script>
  </body>
</html>